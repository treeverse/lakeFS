/* tslint:disable */
/* eslint-disable */
/**
 * lakeFS API
 * lakeFS HTTP API
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  IcebergPullRequest,
  IcebergPushRequest,
} from '../models/index';
import {
    IcebergPullRequestFromJSON,
    IcebergPullRequestToJSON,
    IcebergPushRequestFromJSON,
    IcebergPushRequestToJSON,
} from '../models/index';

export interface PullIcebergTableRequest {
    catalog: string;
    icebergPullRequest?: IcebergPullRequest;
}

export interface PushIcebergTableRequest {
    catalog: string;
    icebergPushRequest?: IcebergPushRequest;
}

/**
 * RemotesApi - interface
 * 
 * @export
 * @interface RemotesApiInterface
 */
export interface RemotesApiInterface {
    /**
     * 
     * @summary take a table previously pushed from lakeFS into a remote catalog, and pull its state back into the originating lakeFS repository
     * @param {string} catalog 
     * @param {IcebergPullRequest} [icebergPullRequest] 
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof RemotesApiInterface
     */
    pullIcebergTableRaw(requestParameters: PullIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>>;

    /**
     * take a table previously pushed from lakeFS into a remote catalog, and pull its state back into the originating lakeFS repository
     */
    pullIcebergTable(requestParameters: PullIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void>;

    /**
     * 
     * @summary register existing lakeFS table in remote catalog
     * @param {string} catalog 
     * @param {IcebergPushRequest} [icebergPushRequest] 
     * @param {*} [options] Override http request option.
     * @throws {RequiredError}
     * @memberof RemotesApiInterface
     */
    pushIcebergTableRaw(requestParameters: PushIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>>;

    /**
     * register existing lakeFS table in remote catalog
     */
    pushIcebergTable(requestParameters: PushIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void>;

}

/**
 * 
 */
export class RemotesApi extends runtime.BaseAPI implements RemotesApiInterface {

    /**
     * take a table previously pushed from lakeFS into a remote catalog, and pull its state back into the originating lakeFS repository
     */
    async pullIcebergTableRaw(requestParameters: PullIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters.catalog === null || requestParameters.catalog === undefined) {
            throw new runtime.RequiredError('catalog','Required parameter requestParameters.catalog was null or undefined when calling pullIcebergTable.');
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && (this.configuration.username !== undefined || this.configuration.password !== undefined)) {
            headerParameters["Authorization"] = "Basic " + btoa(this.configuration.username + ":" + this.configuration.password);
        }
        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("jwt_token", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/iceberg/remotes/{catalog}/pull`.replace(`{${"catalog"}}`, encodeURIComponent(String(requestParameters.catalog))),
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: IcebergPullRequestToJSON(requestParameters.icebergPullRequest),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * take a table previously pushed from lakeFS into a remote catalog, and pull its state back into the originating lakeFS repository
     */
    async pullIcebergTable(requestParameters: PullIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.pullIcebergTableRaw(requestParameters, initOverrides);
    }

    /**
     * register existing lakeFS table in remote catalog
     */
    async pushIcebergTableRaw(requestParameters: PushIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<void>> {
        if (requestParameters.catalog === null || requestParameters.catalog === undefined) {
            throw new runtime.RequiredError('catalog','Required parameter requestParameters.catalog was null or undefined when calling pushIcebergTable.');
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && (this.configuration.username !== undefined || this.configuration.password !== undefined)) {
            headerParameters["Authorization"] = "Basic " + btoa(this.configuration.username + ":" + this.configuration.password);
        }
        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("jwt_token", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }
        const response = await this.request({
            path: `/iceberg/remotes/{catalog}/push`.replace(`{${"catalog"}}`, encodeURIComponent(String(requestParameters.catalog))),
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: IcebergPushRequestToJSON(requestParameters.icebergPushRequest),
        }, initOverrides);

        return new runtime.VoidApiResponse(response);
    }

    /**
     * register existing lakeFS table in remote catalog
     */
    async pushIcebergTable(requestParameters: PushIcebergTableRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<void> {
        await this.pushIcebergTableRaw(requestParameters, initOverrides);
    }

}
